<html>

<head>
    <link rel="icon" href="data:,">
    <!-- Axios is only needed for the axios get or post ( i.e., just 2 funcs )   -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <meta charset="utf-8" />
    <title></title>
</head>

<body>

    <fieldset>
        <legend>axios + get </legend>
        <div id='replaceMe'>
            <pre>
                I have not really figured out how to READ axios on the backend
        </pre>
        </div>
        <script>
            function axio_get() {
                axios.get('/echo_axio_get')
                    .then((response) => {
                        let table = "<table border='1'>"
                        table += `<tr><td>response.data</td><td>${JSON.stringify(response.data)}</td></tr>`
                        table += `<tr><td>response.status</td><td>${response.status}</td></tr>`
                        table += `<tr><td>response.statusText</td><td>${response.statusText}</td></tr>`
                        table += `<tr><td>response.headers</td><td>${JSON.stringify(response.headers)}</td></tr>`
                        table += `<tr><td>response.config</td><td>${JSON.stringify(response.config)}</td></tr>`
                        document.getElementById("replaceMe").innerHTML = table
                    })
                    .catch(function (error) {
                        alert(error);
                    })
                    .then(function () {
                        // always fire...
                    })


            }

        </script>
        <button onClick="axio_get()">axio_get</button>
    </fieldset>

    <fieldset>
        <legend>axios + post </legend>
        <div id="replaceMe2">
            <pre>
                I have not really figured out how to READ axios on the backend
                </pre>
        </div>
        <script>
            function axio_post() {

                axios.post('/echo_axio_post', {}, {
                    a: 'echo_axio_post',
                    b: 'echo_post',
                    headers: {
                        'Authorization': 'Bearer 123BLAHBLAHBLAH123'
                    }
                })
                    .then(function (response) {

                        let table = "<table border='1'>"
                        table += `<tr><td>response.data</td><td>${JSON.stringify(response.data)}</td></tr>`
                        table += `<tr><td>response.status</td><td>${response.status}</td></tr>`
                        table += `<tr><td>response.statusText</td><td>${response.statusText}</td></tr>`
                        table += `<tr><td>response.headers</td><td>${JSON.stringify(response.headers)}</td></tr>`
                        table += `<tr><td>response.config</td><td>${JSON.stringify(response.config)}</td></tr>`
                        document.getElementById("replaceMe2").innerHTML = table
                    })
                    .catch(function (error) {
                        alert(error);
                    });
            }
        </script>
        <button onClick="axio_post()">axio_post</button>
    </fieldset>

    <fieldset>
        <legend>fetch + get ( complex get w/ Bearer token & JSON payload ) </legend>
        <pre>
            const a_payload = {
                Get_requests: "can have whatever a ",
                post_request: "can, have including",
                header: "or other auth information."
            }
            async function do_fetch_echo_get() {
                const rawResponse = await fetch('/echo_get', {
                    method: 'POST',
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer 123BLAHBLAHBLAH123'
                    },
                    body: JSON.stringify(a_payload)
                });
                const content = await rawResponse.json();
                alert(JSON.stringify(content, null, 2));
            };
        </pre>
        <script>
            const a_payload = {
                Get_requests: "can have whatever a ",
                post_request: "can, have including",
                header: "or other auth information."
            }
            async function do_fetch_echo_get() {
                const rawResponse = await fetch('/echo_get', {
                    method: 'POST',
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer 123BLAHBLAHBLAH123'
                    },
                    body: JSON.stringify(a_payload)
                });
                const content = await rawResponse.json();
                alert(JSON.stringify(content, null, 2));
            };
        </script>
        <button onClick="do_fetch_echo_get()">do_fetch_echo_get() ! </button>

    </fieldset>





    <fieldset>
        <legend>fetch + post</legend>
        <pre>
            const payload = {
                a: "Eeboo",
                b: "sakm"
            }
            async function do_fetch_echo_post() {
                const rawResponse = await fetch('/echo_post', {
                    method: 'POST',
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer 123BLAHBLAHBLAH123'
                    },
                    body: JSON.stringify(payload)
                });
                const content = await rawResponse.json();
                alert(JSON.stringify(content, null, 2));
            };
        </pre>
        <script>
            const payload = {
                a: "Eeboo",
                b: "sakm"
            }
            async function do_fetch_echo_post() {
                const rawResponse = await fetch('/echo_post', {
                    method: 'POST',
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer 123BLAHBLAHBLAH123'
                    },
                    body: JSON.stringify(payload)
                });
                const content = await rawResponse.json();
                alert(JSON.stringify(content, null, 2));
            };
        </script>
        <button onClick="do_fetch_echo_post()">do_fetch_echo_post()</button>

    </fieldset>

    <fieldset>
        <legend>link to get pdf</legend>
        <a href="/get_retrievePdf">/get_retrievePdf</a>
    </fieldset>

    <fieldset>
        <legend>A traditional get</legend>
        <a href="/traditionalGet?param1=hello&param2=world">/traditionalGet?param1=hello&param2=world</a>
    </fieldset>

    <fieldset>
        <legend>A traditional post form</legend>
        <form action="/traditionalPostForm" method="post">
            param1 <input name="param1" type="text" /> <br />
            param2 <input name="param2" type="text" /> <br />
            <input type="submit" />
        </form>
    </fieldset>
</body>

</html>