<html>

<head>
    <link rel="icon" href="data:,">
    <meta charset="utf-8" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"
        integrity="sha512-bZS47S7sPOxkjU/4Bt0zrhEtWx0y0CRkhEp8IckzK+ltifIIE9EMIMTuT/mEzoIMewUINruDBIR/jJnbguonqQ=="
        crossorigin="anonymous"></script>

    <script src="https://unpkg.com/pdf-lib"></script>
    <title></title>
</head>

<body>
    <input size=140 type="text" id="the_url" value="http://localhost:3030/get_retrievePdf"></input>
    <br />


    <fieldset>
        <pre>
        </pre>
        <script>
            function axios_get() {
                let apiURL = document.getElementById("the_url").value; // 
                let orig = 'http://localhost:3030/get_retrievePdf'
                console.log(apiURL)
                axios(`${apiURL}`, {
                    method: 'GET',
                    responseType: 'blob' //Force to receive data in a Blob Format
                })
                    .then(response => {//Create a Blob from the PDF Stream
                        const file = new Blob(
                            [response.data],
                            { type: 'application/pdf' });//Build a URL from the file
                        const fileURL = URL.createObjectURL(file);//Open the URL on new Window
                        // window.open(fileURL);
                        document.getElementById("iframe").src = fileURL
                    })
                    .catch(error => {
                        console.log(error);
                        document.getElementById("iframe").src = "FAIL BOT"

                    });

            }


        </script>
        <button onClick="axios_get()">axios_get</button>
    </fieldset>



    <iframe id="iframe"></iframe>

</body>

</html>