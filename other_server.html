<html>

<head>
    <link rel="icon" href="data:,">
    <meta charset="utf-8" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"
        integrity="sha512-bZS47S7sPOxkjU/4Bt0zrhEtWx0y0CRkhEp8IckzK+ltifIIE9EMIMTuT/mEzoIMewUINruDBIR/jJnbguonqQ=="
        crossorigin="anonymous"></script>

    <script src="https://unpkg.com/pdf-lib"></script>
    <title></title>
</head>

<body>

    <iframe id="iframe" style="width:100%"></iframe>
    <hr>

    <fieldset>
        <input size=140 type="text" id="the_post_url" value="http://localhost:3030/post_retrievePdf"></input>
        <br />

        <pre>
            function axios_post() {
                let apiURL = document.getElementById("the_post_url").value; // 
                console.log("POST: " + apiURL)
                axios(`${apiURL}`, {
                    method: 'POST',
                    responseType: 'blob' //Force to receive data in a Blob Format
                })
                    .then(response => {//Create a Blob from the PDF Stream
                        const file = new Blob(
                            [response.data],
                            { type: 'application/pdf' });//Build a URL from the file
                        const fileURL = URL.createObjectURL(file);//Open the URL on new Window
                        // window.open(fileURL);
                        document.getElementById("iframe").src = fileURL
                    })
                    .catch(error => {
                        console.log(error);
                        document.getElementById("iframe").src = "POST FAIL BOT : Is the server running?"
                    });
            }

        </pre>
        <script>
            function axios_post() {
                let apiURL = document.getElementById("the_post_url").value; // 
                console.log("POST: " + apiURL)
                axios(`${apiURL}`, {
                    method: 'POST',
                    responseType: 'blob', //Force to receive data in a Blob Format
                    headers: { 'Authorization': 'Bearer abc123' }
                })
                    .then(response => {//Create a Blob from the PDF Stream
                        const file = new Blob(
                            [response.data],
                            { type: 'application/pdf' });//Build a URL from the file
                        const fileURL = URL.createObjectURL(file);//Open the URL on new Window
                        // window.open(fileURL);
                        document.getElementById("iframe").src = fileURL
                    })
                    .catch(error => {
                        console.log(error);
                        document.getElementById("iframe").src = "POST FAIL BOT : Is the server running?"
                    });
            }
        </script>
        <button onClick="axios_post()">axios_post</button>
    </fieldset>



    <fieldset>
        <input size=140 type="text" id="the_get_url" value="http://localhost:3030/get_retrievePdf"></input>
        <br />
        <pre>
            function axios_get() {
                let apiURL = document.getElementById("the_get_url").value; // 
                console.log("GET: " + apiURL)
                axios(`${apiURL}`, {
                    method: 'GET',
                    responseType: 'blob' //Force to receive data in a Blob Format
                })
                    .then(response => {//Create a Blob from the PDF Stream
                        const file = new Blob(
                            [response.data],
                            { type: 'application/pdf' });//Build a URL from the file
                        const fileURL = URL.createObjectURL(file);//Open the URL on new Window
                        // window.open(fileURL);
                        document.getElementById("iframe").src = fileURL
                    })
                    .catch(error => {
                        console.log(error);
                        document.getElementById("iframe").src = "GET FAIL BOT : Is the server running?"
                    });

            }
        </pre>
        <script>
            function axios_get() {
                let apiURL = document.getElementById("the_get_url").value; // 
                console.log("GET: " + apiURL)
                axios(`${apiURL}`, {
                    method: 'GET',
                    responseType: 'blob' //Force to receive data in a Blob Format
                })
                    .then(response => {//Create a Blob from the PDF Stream
                        const file = new Blob(
                            [response.data],
                            { type: 'application/pdf' });//Build a URL from the file
                        const fileURL = URL.createObjectURL(file);//Open the URL on new Window
                        // window.open(fileURL);
                        document.getElementById("iframe").src = fileURL
                    })
                    .catch(error => {
                        console.log(error);
                        document.getElementById("iframe").src = "GET FAIL BOT : Is the server running?"
                    });
            }
        </script>
        <button onClick="axios_get()">axios_get</button>
    </fieldset>
</body>

</html>